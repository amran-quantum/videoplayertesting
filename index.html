<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<!--     <video preload=auto height=auto loop width="100%" id="video" muted playsinline controls>
        <source src="https://api.tenrol.com/uploads/videos/159_159_1652901854.mp4">
    </video> -->
    <video id="video" preload="metadata" autoplay="" loop="" muted="" >
      <!-- for safari or iOS or anything Apple -->
      <source src="https://api.tenrol.com/uploads/videos/159_159_1652901854.mp4" type="video/x-m4v">
      <!-- for chrome, firefox, android and remainig friends -->
      <source src="https://api.tenrol.com/uploads/videos/159_159_1652901854.mp4" type="video/mp4">
    </video>
    <script>
        var interval = setInterval(function(){
          var countForVideo = document.getElementById('video').readyState;
            console.log(countForVideo);
            
            if(countForVideo == 4){
              console.log("ready to play")
            document.getElementById('video').play();
            clearInterval(interval);
          }
        },2000);
    </script>
 </body>
</html>


<!-- <!doctype html>
<html>
<head>
    <title>JavaScript Progress Monitor</title>
    <script type="text/javascript">
        function getPercentProg() {
            var myVideo = document.getElementsByTagName('video')[0];
            var endBuf = myVideo.buffered.end(0);
            var soFar = parseInt(((endBuf / myVideo.duration) * 100));
            document.getElementById("loadStatus").innerHTML =  soFar + '%';
        }
       function myAutoPlay() {
           var myVideo = document.getElementsByTagName('video')[0];
           myVideo.play();
       }
       function addMyListeners(){
           var myVideo = document.getElementsByTagName('video')[0];
           myVideo.addEventListener('progress', getPercentProg, false);
           myVideo.addEventListener('canplaythrough', myAutoPlay, false);
       }
    </script>
</head>
<body onload="addMyListeners()">
    <div>
        <video controls
               src="https://api.tenrol.com/uploads/videos/159_159_1652901854.mp4">
        </video>
        <p id="loadStatus">MOVIE LOADING...</p>
    </div>
</body> 
</html> -->
